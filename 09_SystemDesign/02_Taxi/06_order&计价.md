









### 合并IO

例如09-计价 里的 service-order 尽量合并IO在一个微服务中 





### 早晚高峰削峰

创建订单后提交消息给MQ,任务完成后再异步发送给客户 



### 独立设计每个服务的数据库

- 例如: 计费规则是在boss端设置 **然后存在数据库** 要用的时候就去service-order的数据库取 

  然后计算价格(**==无状态的服务更好水平扩容,存在数据库,是活的==**)



### 计价用什么数据结构?

**BigDecimal**

https://www.cnblogs.com/YangJavaer/p/6056394.html

(1)**==商业计算使用BigDecimal==**。

(2)尽量使用参数类型为**==String的构造函数==**。

(3) BigDecimal都是不可变的（immutable）的，在进行每一步运算时，都会产生一个新的对象，所以在做加减乘除运算时千万要保存操作后的值。

(4)我们往往容易忽略JDK底层的一些实现细节，导致出现错误，需要多加注意。



![image-20211220202931717](https://s2.loli.net/2021/12/20/pqyQ6cJjDRwz7uH.png)



### YAPI接口文档

查阅 调用哪些服务要 用到哪些表
