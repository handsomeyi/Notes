
# æ€è·¯ä¸€O(N^2)
nums æ•°ç»„: [4,1,3,2,3,9,5,6]
dp[]             [1,1,2,2,3,4,4,5]
æ€è·¯:å¡«æ»¡dp[],ä»¥æ¯ä¸€ä½ç»“å°¾æœ€é•¿çš„åºåˆ—ä½œä¸ºå€¼,åšå‡ºä¸€ä¸ªé•¿åº¦ä¸ºnçš„dpè¡¨

å½“å‰æ¥åˆ° nums[i] çš„ä½ç½®, 
numsä¸­å‰é¢è°æ¯”æˆ‘å°, çš„å€¼ä¸­æœ€å¤§çš„dpä¸Šçš„å€¼åŠ ä¸€å¾—åˆ°æˆ‘çš„å€¼

# æ€è·¯äºŒ
![](https://s2.loli.net/2022/01/12/1vIseENqXkJKolf.png)
ç”¨endæ•°ç»„ç»´æŠ¤ç›®å‰æ‰€æœ‰ é•¿åº¦ä¸ºi+1çš„é€’å¢å­åºåˆ—çš„æœ€å°çš„ç»“å°¾å€¼

# æ¨¡æ¿

```java
    public static int lengthOfLIS(int[] arr) {
      if (arr == null || arr.length == 0) {
         return 0;
      }
      int[] ends = new int[arr.length];
      ends[0] = arr[0];
      int right = 0;
      int l = 0;
      int r = 0;
      int m = 0;
//    int max = 1;
      for (int i = 1; i < arr.length; i++) {
         l = 0;
         r = right;
         while (l <= r) {//åœ¨endsæ•°ç»„ä¸­ æ‰¾â‰¥arr[i]çš„æœ€å·¦ä½ç½®l å¹¶ä¸”æ¯æ¬¡éƒ½ä¿®æ”¹å®ƒ
            m = (l + r) / 2;
            if (arr[i] > ends[m]) {
               l = m + 1;
            } else {
               r = m - 1;
            }
         }
         right = Math.max(right, l);//è¿™é‡Œæ˜¯ä¸ºäº†ç»´æŠ¤äºŒåˆ†çš„æœ€å³ä½ç½®,å› ä¸ºæœ‰æ—¶å€™ä¼šæ”¹endsä¸­ä¹‹å‰çš„æ•°
         ends[l] = arr[i];//å¹¶ä¸”æ¯æ¬¡éƒ½ä¿®æ”¹å®ƒ
//       max = Math.max(max, l + 1);//ç»´æŒå…¨å±€æœ€å¤§ è²Œä¼¼æ²¡å¿…è¦
      }
//    return max;
      return right + 1;
   }
```





# æ‹“å±• ä¿„ç½—æ–¯å¥—å¨ƒ

ç»™ä¸€å †äºŒå…ƒç»„, ä»£è¡¨é•¿å®½, éšæ„å¥—å¨ƒ, æ±‚æœ€å¤§å¥—å¨ƒæ•°(**å¿…é¡»é•¿å®½éƒ½å°äºæ‰èƒ½å¥—**)

æ€è·¯: ç»™æ‰€æœ‰é•¿æ’åº( **==å¦‚æœé•¿ä¸€æ ·,æŒ‰å®½åº¦é€’å‡æ’åº==** ), ç„¶ååŸºäºå®½æ±‚æœ€é•¿é€’å¢å­åºåˆ—å€¼
			**==å¯ä»¥è¿åˆåæ¥æ›´æ–°endæ•°ç»„,ä¸ä¼šå½±å“åˆ°å…¶ä»–çš„end==**
			**==é˜²æ­¢é•¿åº¦ä¸€æ ·, å®½åº¦æ¯”æˆ‘å°çš„åœ¨æˆ‘å‰é¢è¯±å¯¼æˆ‘å½¢æˆé€’å¢å­åºåˆ—==**



åˆ©ç”¨==**Lambdaè¡¨è¾¾å¼çš„ç²¾é«“**==,å¤ªæ–¹ä¾¿äº†å§æ§½

```java
class Solution {
    public int maxEnvelopes(int[][] doll) {
		Arrays.sort(doll, (a, b) -> {
			if (a[0] == b[0]) return b[1] - a[1];
			return a[0] - b[0];
		});
		int[] ends = new int[doll.length];
		ends[0] = doll[0][1];
		int right = 0;
		int l = 0;
		int r = 0;
		int m = 0;
		for (int i = 1; i < doll.length; i++) {
			l = 0;
			r = right;
			while (l <= r) {//åœ¨endsæ•°ç»„ä¸­ æ‰¾â‰¥arr[i]çš„æœ€å·¦ä½ç½®l å¹¶ä¸”æ¯æ¬¡éƒ½ä¿®æ”¹å®ƒ
				m = (l + r) / 2;
				if (doll[i][1] > ends[m]) {
					l = m + 1;
				} else {
					r = m - 1;
				}
			}
			right = Math.max(right, l);//è¿™é‡Œæ˜¯ä¸ºäº†ç»´æŠ¤äºŒåˆ†çš„æœ€å³ä½ç½®,å› ä¸ºæœ‰æ—¶å€™ä¼šæ”¹endsä¸­ä¹‹å‰çš„æ•°
			ends[l] = doll[i][1];//å¹¶ä¸”æ¯æ¬¡éƒ½ä¿®æ”¹å®ƒ
		}
		return right + 1;
	}
}
//https://leetcode-cn.com/problems/russian-doll-envelopes/solution/li-yong-lambdabao-li-pai-xu-zhi-jie-zhua-eiz9/

```










# ä¾‹é¢˜ 
## æœ€é•¿é€’å¢å­åºåˆ—ï¼ˆè´ªå¿ƒ + äºŒåˆ†ï¼‰
ç®€å•æ¥è¯´ï¼Œå°±æ˜¯åœ¨éå†æ¯ä¸ªæ•° nums[i] çš„åŒæ—¶ï¼Œç»´æŠ¤ä¸€ä¸ªå…·æœ‰å•è°ƒæ€§çš„ f[]æ•°ç»„ï¼Œå…¶ä¸­ f[len] = xä»£è¡¨é•¿åº¦ä¸º lenlen çš„æœ€é•¿ä¸Šå‡å­åºåˆ—æœ€å°ç»“å°¾å…ƒç´ ä¸º xï¼Œå¯ä»¥è¯æ˜ f æ•°ç»„å…·æœ‰å•è°ƒæ€§ï¼ˆçœ‹ å‰ç½®ğŸ§€ï¼‰ï¼Œå› æ­¤æ¯æ¬¡å¯ä»¥é€šè¿‡äºŒåˆ†æ‰¾åˆ°å°äº nums[i]çš„æœ€å¤§ä¸‹æ ‡ï¼Œæ¥ä½œä¸º nums[i] çš„å‰ä¸€ä¸ªæ•°ã€‚

```java
class Solution {
    public boolean increasingTriplet(int[] nums) {
        int n = nums.length, ans = 1;
        int[] f = new int[n + 1];
        Arrays.fill(f, 0x3f3f3f3f);
        for (int i = 0; i < n; i++) {
            int t = nums[i];
            int l = 1, r = i + 1;
            while (l < r) {
                int mid = l + r >> 1;
                if (f[mid] >= t) r = mid;
                else l = mid + 1;
            }
            f[r] = t;
            ans = Math.max(ans, r);
        }
        return ans >= 3;
    }
}
-   æ—¶é—´å¤æ‚åº¦ï¼šO(nlogn)
-   ç©ºé—´å¤æ‚åº¦ï¼šO(n)
```

## å®šé•¿ä¸Šå‡å­åºåˆ—ï¼ˆè´ªå¿ƒï¼‰
æˆ‘ä»¬å¯ä»¥å¯¹ f æ•°ç»„è¿›è¡Œä¼˜åŒ–ï¼šä½¿ç”¨æœ‰é™å˜é‡è¿›è¡Œæ›¿æ¢ï¼ˆå°† f æ•°ç»„çš„é•¿åº¦å‹ç¼©ä¸º 2ï¼‰ï¼Œæ•°ç»„å«ä¹‰ä¸å˜ï¼Œf[1] = x ä»£è¡¨é•¿åº¦ä¸º 1 çš„ä¸Šå‡å­åºåˆ—æœ€å°ç»“å°¾å…ƒç´ ä¸º xxï¼Œf[2] = yä»£è¡¨é•¿åº¦ä¸º 2çš„ä¸Šå‡å­åºåˆ—çš„æœ€å°ç»“å°¾å…ƒç´ ä¸º yã€‚

ä»å‰å¾€åæ‰«ææ¯ä¸ª nums[i]ï¼Œæ¯æ¬¡å°† nums[i]åˆ†åˆ«ä¸ f[1]å’Œ f[2] è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœèƒ½å¤Ÿæ»¡è¶³ nums[i] > f[2]ï¼Œä»£è¡¨ nums[i] èƒ½å¤Ÿæ¥åœ¨é•¿åº¦ä¸º 22 çš„ä¸Šå‡å­åºåˆ—çš„åé¢ï¼Œç›´æ¥è¿”å› Trueï¼Œå¦åˆ™å°è¯•ä½¿ç”¨ nums[i]æ¥æ›´æ–° f[1] å’Œ f[2]ã€‚

è¿™æ ·ï¼Œæˆ‘ä»¬åªä½¿ç”¨äº†æœ‰é™å˜é‡ï¼Œæ¯æ¬¡å¤„ç† nums[i]åªéœ€è¦å’Œæœ‰é™å˜é‡è¿›è¡Œæ¯”è¾ƒï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(n)ï¼Œç©ºé—´å¤æ‚åº¦ä¸º O(1)ã€‚
```java
class Solution {
    public boolean increasingTriplet(int[] nums) {
        int n = nums.length;
        long[] f = new long[3];
        f[1] = f[2] = (int)1e19;
        for (int i = 0; i < n; i++) {
            int t = nums[i];
            if (f[2] < t) return true;
            else if (f[1] < t && t < f[2]) f[2] = t;
            else if (f[1] > t) f[1] = t;
        }
        return false;
    }
}
-   æ—¶é—´å¤æ‚åº¦ï¼šO(n)
-   ç©ºé—´å¤æ‚åº¦ï¼šO(1)
```
